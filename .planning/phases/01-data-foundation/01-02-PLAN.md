---
phase: 01-data-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/lib/colors.ts
  - src/lib/materials.ts
autonomous: true

must_haves:
  truths:
    - "Bambu Lab color palette is available as categorized TypeScript constants with accurate hex values"
    - "All Bambu Lab color categories are represented: Basics, Matte, Silk, Marble, Glow, Sparkle, and any other official lines"
    - "Material types (PLA, PETG, ABS, TPU, ASA, Nylon) are available as TypeScript constants"
    - "Material modifiers (Carbon Fiber, Silk, Matte, Glow-in-Dark, Wood-fill) are available as TypeScript constants"
    - "Types are exported for use in forms and validation"
  artifacts:
    - path: "src/lib/colors.ts"
      provides: "Bambu Lab color palette organized by category"
      contains: "BAMBU_COLORS"
    - path: "src/lib/materials.ts"
      provides: "Material types and modifier definitions"
      contains: "MATERIALS"
  key_links:
    - from: "src/lib/colors.ts"
      to: "Color selection in future forms"
      via: "exported constants and types"
      pattern: "export.*BambuColor"
    - from: "src/lib/materials.ts"
      to: "Material selection in future forms"
      via: "exported constants and types"
      pattern: "export.*Material"
---

<objective>
Create TypeScript constant files for the Bambu Lab color palette and material type definitions.

Purpose: Provides the static reference data that spool forms will use for color and material selection. Using TypeScript constants (per project decision) instead of database tables keeps this data fast, type-safe, and version-controlled.
Output: Two constant files with full Bambu Lab palette and material/modifier definitions.
</objective>

<execution_context>
@/Users/monkey/.claude/get-shit-done/workflows/execute-plan.md
@/Users/monkey/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-data-foundation/01-CONTEXT.md
@.planning/phases/01-data-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Bambu Lab color palette constants</name>
  <files>src/lib/colors.ts</files>
  <action>
    Create `src/lib/colors.ts` with the complete Bambu Lab filament color palette.

    Define types:
    ```typescript
    type BambuColor = {
      name: string;      // Display name (e.g., "Bambu Green")
      hex: string;       // Hex color value (e.g., "#00AE42")
    };

    type ColorCategory = {
      name: string;           // Category name (e.g., "Basic", "Matte")
      colors: BambuColor[];
    };
    ```

    Export `BAMBU_COLOR_PALETTE: ColorCategory[]` organized by category. Include ALL Bambu Lab PLA Basic colors at minimum. Research accurate hex values from Bambu Lab's website/product pages. Categories to include:

    - **Basic** — Standard PLA colors: Black (#000000 or close), White (#FFFFFF or close), Bambu Green, Red, Blue, Yellow, Orange, etc. Include the full basic lineup.
    - **Matte** — Matte PLA variants: Matte Black, Matte White, Matte Charcoal, etc.
    - **Silk** — Silk/shimmer variants: Silk Gold, Silk Silver, Silk Copper, etc.
    - **Sparkle** — Sparkle/glitter variants if Bambu offers them.
    - **Marble** — Marble-effect filaments.
    - **Glow** — Glow-in-the-dark colors.
    - **Support** — Support materials (PVA, etc.) if relevant.

    Use the best available hex approximations for each color. When exact hex values are uncertain, use reasonable approximations based on the color name and any known Bambu Lab branding colors (Bambu Green is approximately #00AE42).

    Also export a flat helper:
    ```typescript
    export const ALL_BAMBU_COLORS: BambuColor[] = BAMBU_COLOR_PALETTE.flatMap(cat => cat.colors);
    ```

    Export all types: `export type { BambuColor, ColorCategory }`.
  </action>
  <verify>
    Run `npx tsc --noEmit` to confirm the file compiles. Verify the palette has at least 30 colors across at least 4 categories. Check that every color entry has both a non-empty name and a valid hex string (starts with #, 7 chars).
  </verify>
  <done>BAMBU_COLOR_PALETTE exported with 30+ colors across 4+ categories. ALL_BAMBU_COLORS flat array available. BambuColor and ColorCategory types exported. TypeScript compiles cleanly.</done>
</task>

<task type="auto">
  <name>Task 2: Create material types and modifiers constants</name>
  <files>src/lib/materials.ts</files>
  <action>
    Create `src/lib/materials.ts` with material type and modifier definitions.

    Define types:
    ```typescript
    type MaterialType = {
      id: string;        // Lowercase identifier (e.g., "pla", "petg")
      name: string;      // Display name (e.g., "PLA", "PETG")
      description: string; // Brief description (e.g., "General purpose, easy to print")
    };

    type MaterialModifier = {
      id: string;        // Lowercase identifier (e.g., "cf", "silk")
      name: string;      // Display name (e.g., "Carbon Fiber", "Silk")
      suffix: string;    // Short suffix for display (e.g., "CF", "Silk")
    };
    ```

    Export `BASE_MATERIALS: MaterialType[]` with the 6 required types:
    1. PLA — General purpose, easy to print, most common
    2. PETG — Stronger than PLA, heat resistant, food-safe options
    3. ABS — High strength, heat resistant, requires enclosure
    4. TPU — Flexible, rubber-like, impact resistant
    5. ASA — UV resistant outdoor use, similar to ABS
    6. Nylon — Strong, durable, slight flexibility

    Export `MATERIAL_MODIFIERS: MaterialModifier[]`:
    1. Carbon Fiber (CF) — Added rigidity and strength
    2. Silk — Shiny, silky surface finish
    3. Matte — Non-reflective matte finish
    4. Glow-in-Dark (Glow) — Phosphorescent, glows after light exposure
    5. Wood-fill (Wood) — Contains wood particles, wood-like appearance

    Export helper functions:
    ```typescript
    export function formatMaterial(material: string, modifier?: string | null): string
    // Returns "PLA" or "PLA Carbon Fiber" or "PETG Silk" etc.

    export function getMaterialDisplay(material: string, modifier?: string | null): string
    // Returns "PLA" or "PLA-CF" or "PETG-Silk" (short form with suffix)
    ```

    Export all types: `export type { MaterialType, MaterialModifier }`.
  </action>
  <verify>
    Run `npx tsc --noEmit` to confirm compilation. Verify BASE_MATERIALS has exactly 6 entries. Verify MATERIAL_MODIFIERS has exactly 5 entries. Test that formatMaterial("PLA", "Carbon Fiber") returns a reasonable string and formatMaterial("PLA", null) returns "PLA".
  </verify>
  <done>BASE_MATERIALS with 6 types exported. MATERIAL_MODIFIERS with 5 modifiers exported. Helper functions formatMaterial and getMaterialDisplay exported. All types exported. TypeScript compiles cleanly.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with both new files
2. `src/lib/colors.ts` exports BAMBU_COLOR_PALETTE with 30+ colors in 4+ categories
3. `src/lib/materials.ts` exports BASE_MATERIALS (6 types) and MATERIAL_MODIFIERS (5 modifiers)
4. All types (BambuColor, ColorCategory, MaterialType, MaterialModifier) are importable
5. Helper functions produce correct output for basic inputs
</verification>

<success_criteria>
- Complete Bambu Lab color palette with accurate hex values organized by category
- All 6 base materials and 5 modifiers defined with descriptions
- Helper functions for material display formatting
- All constants and types importable for use in future form components
</success_criteria>

<output>
After completion, create `.planning/phases/01-data-foundation/01-02-SUMMARY.md`
</output>
