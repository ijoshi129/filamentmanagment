---
phase: 03-visual-display
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/SpoolList.tsx
  - src/components/SpoolCard.tsx
autonomous: false

must_haves:
  truths:
    - "Spools display as cards with large color swatches matching the stored hex color"
    - "Material type appears as a prominent, colored badge on each card"
    - "Each card shows brand, color name, purchase date, and weight"
    - "Card layout is responsive (1 col mobile, 2 col tablet, 3 col desktop)"
    - "Empty state displays helpful message with call-to-action when no spools exist"
  artifacts:
    - path: "src/components/SpoolCard.tsx"
      provides: "Individual spool card with visual color swatch and material badge"
      min_lines: 40
    - path: "src/components/SpoolList.tsx"
      provides: "Grid layout, filtering, empty state"
      contains: "SpoolCard"
  key_links:
    - from: "src/components/SpoolCard.tsx"
      to: "src/db/schema.ts"
      via: "Spool type import"
      pattern: "import.*Spool.*from.*schema"
    - from: "src/components/SpoolList.tsx"
      to: "src/components/SpoolCard.tsx"
      via: "renders SpoolCard for each spool"
      pattern: "SpoolCard"
---

<objective>
Enhance the existing spool card display with prominent visual elements: extract a dedicated SpoolCard component, make the material badge colorful and prominent, and polish the card layout for a truly visual inventory experience.

Purpose: Phase 2 already built a functional card grid with color swatches. This phase elevates the visual quality so the display matches the project's core value of "quickly see what filament you have by color, brand, and material."

Output: Polished SpoolCard component with prominent material badges, extracted from SpoolList for cleanliness.
</objective>

<execution_context>
@/Users/monkey/.claude/get-shit-done/workflows/execute-plan.md
@/Users/monkey/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/components/SpoolList.tsx
@src/db/schema.ts
@src/lib/materials.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extract SpoolCard component with prominent material badge</name>
  <files>src/components/SpoolCard.tsx, src/components/SpoolList.tsx</files>
  <action>
Extract the card rendering from SpoolList.tsx into a dedicated SpoolCard component. Enhance the visual design:

1. Create src/components/SpoolCard.tsx:
   - Accept a single `spool: Spool` prop
   - Color swatch header: increase height from 80px to 100px for more visual impact. Keep using `spool.colorHex` as backgroundColor.
   - Material badge: Replace the current small gray pill with a prominent colored badge. Use material-specific colors:
     - PLA: green (bg-green-100 text-green-800)
     - PETG: blue (bg-blue-100 text-blue-800)
     - ABS: orange (bg-orange-100 text-orange-800)
     - TPU: purple (bg-purple-100 text-purple-800)
     - ASA: amber (bg-amber-100 text-amber-800)
     - Nylon: pink (bg-pink-100 text-pink-800)
     - Default: gray (bg-gray-100 text-gray-700)
   - Badge should show the full formatted material (using formatMaterial from materials.ts), positioned top-right of the card body area, with slightly larger text (text-xs font-bold) and more padding (px-3 py-1).
   - Include modifier in the badge text if present (e.g., "PLA Matte", "PLA Silk").
   - Show color name as the card title (text-base font-semibold).
   - Show brand below color name (text-sm text-gray-600).
   - Show status pill, weight (e.g., "1000g"), and purchase date in a row below.
   - Keep existing status colors (STATUS_LABELS and STATUS_COLORS maps) -- move them into SpoolCard or keep as module-level constants.
   - Keep Edit link and DeleteSpoolButton in a footer row with border-t.
   - Use Tailwind classes (already in project via v4). Keep inline styles only where dynamic values are needed (colorHex, status colors).

2. Update src/components/SpoolList.tsx:
   - Import and render SpoolCard instead of inline card JSX.
   - Keep all filter logic, empty state, and grid layout in SpoolList.
   - Pass each spool to SpoolCard: `<SpoolCard key={spool.id} spool={spool} />`
   - Remove STATUS_LABELS, STATUS_COLORS, and card rendering code that moved to SpoolCard.
   - No changes to filter behavior or empty state.
  </action>
  <verify>
Run `npx next build` from project root -- build succeeds with no TypeScript errors. Visually confirm by running `npx next dev` and checking localhost:3000 shows cards with color swatches and colored material badges.
  </verify>
  <done>
SpoolCard extracted as standalone component. Material badge is color-coded by material type (not plain gray). Color swatch is 100px tall. Card shows brand, color name, weight, purchase date, status, and action buttons. SpoolList renders SpoolCard components in responsive grid.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify visual card display</name>
  <files>src/components/SpoolCard.tsx, src/components/SpoolList.tsx</files>
  <action>Human verifies the visual display of spool cards in the browser.</action>
  <what-built>Enhanced spool card display with prominent color-coded material badges, larger color swatches, and extracted SpoolCard component.</what-built>
  <how-to-verify>
1. Run `npx next dev` in project root
2. Visit http://localhost:3000
3. Verify cards show:
   - Large color swatch header (colored area at top of each card)
   - Material badge is colored (green for PLA, blue for PETG, etc.) not plain gray
   - Brand name, color name, weight, and purchase date visible on each card
   - Status pill with colored dot (green for Open, blue for Sealed, red for Empty)
4. Resize browser to mobile width -- cards should stack to single column
5. If no spools exist, verify empty state message appears with "Add Spool" button
  </how-to-verify>
  <verify>User confirms visual display meets expectations</verify>
  <done>User has approved the visual card display</done>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
- `npx next build` completes without errors
- SpoolCard.tsx exists and exports SpoolCard component
- SpoolList.tsx imports and uses SpoolCard
- Material badge colors vary by material type (not all gray)
- Cards display all required fields: color swatch, material badge, brand, color name, weight, purchase date
- Responsive grid: 1 col on mobile, 2 on sm, 3 on lg
- Empty state shows helpful message when no spools
</verification>

<success_criteria>
- Spool cards have large (100px) color swatch headers using stored hex color
- Material type badge is prominently colored per material (PLA=green, PETG=blue, etc.)
- Each card displays brand, color name, purchase date, and weight
- Grid is responsive across mobile, tablet, and desktop
- Empty state provides helpful message and call-to-action
</success_criteria>

<output>
After completion, create `.planning/phases/03-visual-display/03-01-SUMMARY.md`
</output>
